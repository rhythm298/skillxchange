import{j as e,L as v,r as i,u as b}from"./index-83584882.js";import{H as y}from"./Header-6167e887.js";import{S as N}from"./SkillChip-f28ff2e6.js";import{g as w}from"./api-0fe5b271.js";const P=({search:s,setSearch:l,availability:a,setAvailability:c})=>e.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-4",children:[e.jsx("input",{type:"text",placeholder:"Search skills...",value:s,onChange:t=>l(t.target.value),className:"flex-1 px-3 py-2 border rounded"}),e.jsxs("select",{value:a,onChange:t=>c(t.target.value),className:"px-3 py-2 border rounded",children:[e.jsx("option",{value:"",children:"Any Availability"}),e.jsx("option",{value:"weekends",children:"Weekends"}),e.jsx("option",{value:"evenings",children:"Evenings"}),e.jsx("option",{value:"anytime",children:"Anytime"})]})]}),S=({profile:s,canRequest:l})=>e.jsx("div",{className:"p-4 bg-white border rounded shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:s.profilePhoto||"https://via.placeholder.com/64?text=User",alt:s.name,className:"w-16 h-16 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Rating: ",s.rating??"N/A","/5"]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[s.skillsOffered.slice(0,3).map(a=>e.jsx(N,{label:a},a)),s.skillsOffered.length>3&&e.jsx("span",{className:"text-xs",children:"+more"})]})]}),e.jsx(v,{to:`/users/${s.id}`,className:`px-3 py-2 text-sm font-semibold text-white rounded ${l?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"}`,children:"Request"})]})}),A=({current:s,total:l,onChange:a})=>l<=1?null:e.jsx("div",{className:"flex justify-center gap-1 mt-4",children:Array.from({length:l}).map((c,t)=>{const n=t+1;return e.jsx("button",{onClick:()=>a(n),className:`px-3 py-1 border rounded ${n===s?"bg-blue-600 text-white":"bg-white"}`,children:n},n)})}),d=6,L=()=>{const[s,l]=i.useState([]),[a,c]=i.useState(""),[t,n]=i.useState(""),[o,m]=i.useState(1),{user:h}=b();i.useEffect(()=>{(async()=>{const r=await w();l(r)})()},[]);const x=s.filter(r=>{const p=r.skillsOffered.some(j=>j.toLowerCase().includes(a.toLowerCase())),f=t?r.availability===t:!0;return p&&f}),u=Math.ceil(x.length/d),g=x.slice((o-1)*d,o*d);return i.useEffect(()=>{m(1)},[a,t]),e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx(y,{}),e.jsxs("main",{className:"max-w-5xl px-4 py-6 mx-auto space-y-6",children:[e.jsx(P,{search:a,setSearch:c,availability:t,setAvailability:n}),e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:g.map(r=>e.jsx(S,{profile:r,canRequest:!!h},r.id))}),e.jsx(A,{current:o,total:u,onChange:m})]})]})};export{L as default};
