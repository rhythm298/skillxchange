import{u,r as a,j as s}from"./index-83584882.js";import{H as x}from"./Header-6167e887.js";import{c as h,u as j}from"./api-0fe5b271.js";const N=()=>{const{user:d}=u(),[t,m]=a.useState("pending"),[o,n]=a.useState([]);a.useState({}),a.useEffect(()=>{d&&(async()=>{const e=await h(d.uid,"received");n(e)})()},[d]);const i=async(e,l)=>{await j(e.id,l),n(p=>p.map(c=>c.id===e.id?{...c,status:l}:c))},r=o.filter(e=>e.status===t);return s.jsxs("div",{className:"min-h-screen bg-gray-100",children:[s.jsx(x,{}),s.jsxs("main",{className:"max-w-4xl px-4 py-6 mx-auto bg-white rounded shadow",children:[s.jsx("div",{className:"flex gap-2 mb-4",children:["pending","accepted","rejected"].map(e=>s.jsx("button",{onClick:()=>m(e),className:`px-3 py-1 border rounded ${t===e?"bg-blue-600 text-white":"bg-white"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),s.jsxs("div",{className:"space-y-3",children:[r.map(e=>s.jsxs("div",{className:"p-4 border rounded",children:[s.jsxs("p",{className:"font-semibold",children:["Request from: ",e.fromUserId]}),s.jsxs("p",{className:"text-sm",children:["Offered: ",e.offeredSkill," | Wanted: ",e.wantedSkill]}),s.jsxs("p",{className:"text-sm",children:["Message: ",e.message]}),s.jsxs("p",{className:"text-sm",children:["Status: ",e.status]}),t==="pending"&&s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx("button",{onClick:()=>i(e,"accepted"),className:"px-3 py-1 text-sm text-white bg-green-600 rounded",children:"Accept"}),s.jsx("button",{onClick:()=>i(e,"rejected"),className:"px-3 py-1 text-sm text-white bg-red-600 rounded",children:"Reject"})]})]},e.id)),r.length===0&&s.jsxs("p",{children:["No ",t," requests."]})]})]})]})};export{N as default};
